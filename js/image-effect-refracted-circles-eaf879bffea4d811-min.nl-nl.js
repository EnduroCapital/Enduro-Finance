"use strict";(self.webpackChunkextract_css=self.webpackChunkextract_css||[]).push([["39632"],{134482:function(w,d,l){l.d(d,{Z:()=>S});var m=l(536040),h=l(328957),g=l(235591),y=(t,e)=>(t.addEventListener?t.addEventListener("change",e):t.addListener(e),e),v=(t,e)=>(t.removeEventListener?t.removeEventListener("change",e):t.removeListener(e),e),b=(t,e)=>{var r=window.matchMedia(t),o={},c=y(r,u=>{o.matches=u.matches,e==null||e(o.matches)});return o.matches=r.matches,o.destroy=()=>{v(r,c)},o},O=t=>b("(prefers-reduced-motion: reduce)",t);function s(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}function i(t){if(Array.isArray(t))return t}function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f(t,e){var r=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var o=[],c=!0,u=!1,a,_;try{for(r=r.call(t);!(c=(a=r.next()).done)&&(o.push(a.value),!(e&&o.length===e));c=!0);}catch(D){u=!0,_=D}finally{try{!c&&r.return!=null&&r.return()}finally{if(u)throw _}}return o}}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function j(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{},o=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable}))),o.forEach(function(c){n(t,c,r[c])})}return t}function L(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable})),r.push.apply(r,o)}return r}function C(t,e){return e=e!=null?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):L(Object(e)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}function E(t,e){return i(t)||f(t,e)||I(t,e)||p()}function I(t,e){if(t){if(typeof t=="string")return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(r);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(t,e)}}var P=t=>!!(t.complete&&t.src);class S{prepareImage(){this.image.addEventListener("load",this.onImageLoaded),this.image.style.visibility="hidden",P(this.image)&&this.onImageLoaded()}getFocalPoint(){if(this.effectProps.focalPoint)return this.effectProps.focalPoint;var e=E(window.getComputedStyle(this.image).objectPosition.split(" "),2),r=e[0],o=e[1];return{x:parseFloat(r)/100,y:parseFloat(o)/100}}destroyComponent(){var e;(e=this.component)===null||e===void 0||e.destroy(),this.component=null,this.image&&(this.image.style.visibility="",this.image.removeEventListener("load",this.onImageLoaded))}removeListeners(){this.prefersReducedMotionHandler.destroy()}constructor(e){var r=e.image,o=e.container,c=e.effectProps,u=e.WebGLComponent;n(this,"currentImageSrc",""),n(this,"onPrefersReducedMotionChange",a=>{if(a){this.destroyComponent();return}this.prepareImage()}),n(this,"onContainerResize",()=>{var a;(a=this.component)===null||a===void 0||a.refresh()}),n(this,"onImageLoaded",()=>{var a;if(this.currentImageSrc=this.image.src,this.component){this.component.setProps({image:this.image,imageNeedsUpdate:!0});return}this.component=new m.Z(this.WebGLComponent,this.container,C(j({image:this.image,pixelRatio:((a=window)===null||a===void 0?void 0:a.devicePixelRatio)||1},this.effectProps),{focalPoint:this.getFocalPoint()}),{scrollWindowRef:(0,g.V6)()||window,normalizeScroll:!1})}),n(this,"updateImage",a=>{this.component&&(this.image===a&&this.currentImageSrc===a.src||(this.image.removeEventListener("load",this.onImageLoaded),this.image=a,this.image.addEventListener("load",this.onImageLoaded),P(this.image)&&this.component.setProps({image:this.image,imageNeedsUpdate:!0})))}),n(this,"updateProps",a=>{this.component&&this.component.setProps(a)}),n(this,"getType",()=>this.component.props.type),n(this,"destroy",()=>{this.destroyComponent(),this.removeListeners()}),this.image=r,this.container=o,this.effectProps=c,this.WebGLComponent=u,h.Z&&(this.prefersReducedMotionHandler=O(this.onPrefersReducedMotionChange),!this.prefersReducedMotionHandler.matches&&this.prepareImage())}}},397282:function(w,d,l){l.r(d),l.d(d,{default:()=>O});var m=l(305695),h=l(134482);function g(s,i,n){return i in s?Object.defineProperty(s,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):s[i]=n,s}function y(s){for(var i=1;i<arguments.length;i++){var n=arguments[i]!=null?arguments[i]:{},f=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(f=f.concat(Object.getOwnPropertySymbols(n).filter(function(p){return Object.getOwnPropertyDescriptor(n,p).enumerable}))),f.forEach(function(p){g(s,p,n[p])})}return s}function v(s,i){var n=Object.keys(s);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(s);i&&(f=f.filter(function(p){return Object.getOwnPropertyDescriptor(s,p).enumerable})),n.push.apply(n,f)}return n}function b(s,i){return i=i!=null?i:{},Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach(function(n){Object.defineProperty(s,n,Object.getOwnPropertyDescriptor(i,n))}),s}class O extends h.Z{constructor(i){super(b(y({},i),{WebGLComponent:m.Z}))}}}}]);

//# sourceMappingURL=https://sourcemaps.squarespace.net/universal/scripts-compressed/sourcemaps/20dd9e2a8b454105/image-effect-refracted-circles-eaf879bffea4d811-min.nl-NL.js.map